<%- include('../admin/layouts/header.ejs') %>
<%- include('../admin/layouts/sidebar.ejs') %>
<%- include('../admin/layouts/navbar.ejs') %>

<!-- Content for viewing products -->
<div class="main-panel">
  <div class="content-wrapper">
    <div class="col-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <h2 class="card-title">PRODUCTS</h2>

          <!-- Display the list of products -->
          <table class="table">
            <thead>
              <tr>
                <th>Product Name</th>
                <th>Category</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Description</th>
                <th>Image</th>
                <th>Size</th>
                <th> Edit </th>
                <th> Action </th>
              </tr>
            </thead>
            <tbody>
              <% product.forEach(product => { %>
                <tr>
                  <td><%= product.productName %></td>
                  <td><%= product.category.categoryName %></td>
                  <td><%= product.price %></td>
                  <td><%= product.quantity %></td>
                  <td><%= product.description %></td>
                  <td><img src="/public/adminAssets/assets/images/products/<%= product.image %>" alt="<%= product.productName %>"></td>
                  <td><%= product.size %></td>
                  <td> <a href="/admin/edit_product?id=<%= product._id%>">
                    <button type="button" class="btn btn-outline-secondary btn-icon-text">
                      Edit <i class="mdi mdi-file-check btn-icon-append"></i>
                    </button>
                  </a></td>
                  <td><% if (product.status === false) { %>
                    <a href="/admin/unlist_product?id=<%= product._id %>">
                      <button type="button" class="btn btn-inverse-success btn-fw">
                        List
                      </button>
                    </a>
                  <% } else { %>
                    <a href="/admin/unlist_product?id=<%= product._id %>">
                      <button type="button" class="btn btn-inverse-danger btn-fw">
                        Unlist
                      </button>
                    </a> 
                  <% } %></td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../admin/layouts/footer.ejs') %>
